# 2025年9月5日：增强 `dataTable` 组件功能

## 变更概述

本次更新旨在通过自动化通用UI模式、丰富数据展示和提升用户体验，来增强 `dataTable` 组件的功能。在此之前，开发者需要手动添加 `categoryJumpLinks` 组件，并且营养信息仅限于每个菜单卡片上的简短说明。

## 主要变更点

### 1. **`dataTable` 组件内的自动 `categoryJumpLinks` 生成**

- **变更**: 如果 `dataTable` 组件通过 `categoriesDataUrl` 属性加载其数据，它现在会自动渲染一个“快捷跳转” (`categoryJumpLinks`) 部分。
- **目的**: 减少手动配置的需要，确保数据和导航之间的一致性。该组件现在更加独立和易于使用。
- **实现**: `renderDataTable` 函数现在会检查 `categoriesDataUrl` 的存在。如果为true，它会提取所有分类名称，并动态生成一个 `<details>` 块，其中包含指向每个分类的锚链接。

### 2. **自动化的全菜单营养信息表格**

- **变更**: `dataTable` 现在在其底部自动附加一个详细的营养信息表格。
- **目的**: 为用户提供所有菜单项的全面、易于访问的营养数据（菜品、价格、卡路里、钠含量警告等），从而提升页面的实用性。
- **实现**: 新表格会汇总所有分类中的所有项目，并以清晰的表格格式显示其营养属性。此表格被赋予一个ID，并被包含在自动生成的快捷跳转链接中，以便于导航。

### 3. **Sodium警告信息**

- **变更**: 在新的营养表格下方增加了一个关于高钠含量的警告说明。
- **目的**: 遵循最佳实践，向关注健康的用户提供重要的上下文信息。

## 受影响的文件

- `src/index.ts`:
  - 修改了 `renderDataTable` 函数，以包含上述新功能。
- `raw/nutrition-allergen-menu.json`:
  - 验证了此文件，以确保其与新的 `dataTable` 功能兼容（无需更改，因为它已经没有手动的 `categoryJumpLinks`）。

## 结论

此次重构使 `dataTable` 组件更加智能和强大。通过自动化UI元素的创建和整合更丰富的数据视图，我们不仅简化了内容管理，还为最终用户提供了更具价值和更加透明的体验。
